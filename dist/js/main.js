(()=>{"use strict";const e=e=>{let t=!1;for(let t=0;t<e.length;t++)e[t].value.length<2?e[t].classList.add("error"):e[t].classList.remove("error"),e[t].classList.contains("form-phone")&&e[t].value.length<18&&e[t].classList.add("error");for(let l=0;l<e.length;l++){if(e[l].classList.contains("error"))return void(t=!1);e[l].classList.contains("error")||(t=!0)}return t};[...document.querySelectorAll(".menu__list-link"),document.querySelector(".header__scroll-icon")].forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const l=e.getAttribute("href").substring(1),s=document.getElementById(l);s&&s.scrollIntoView({block:"center",behavior:"smooth"})}))})),(()=>{const e=document.querySelector(".header__top");window.addEventListener("scroll",(()=>{window.pageYOffset>570?e.classList.add("header__top--active"):e.classList.remove("header__top--active")}))})(),(()=>{const e=document.querySelector(".header__inner"),t=document.querySelector(".menu__list"),l=document.querySelector(".menu__btn"),s=()=>{l.classList.toggle("menu__btn--active"),t.classList.toggle("menu__list--active")};e.addEventListener("click",(e=>{e.target.closest(".menu__btn")&&s(),e.target.closest(".menu__list-link")&&s()}))})(),(()=>{const e=document.querySelector(".header__play"),t=new Audio("audio/waves.mp3");e.addEventListener("click",(()=>{t.paused?t.play():t.pause()}))})(),(()=>{const e=document.querySelector(".gallery__nav"),t=document.querySelectorAll(".gallery__item");e.addEventListener("click",(e=>{if(e.target.classList.contains("gallery__btn")){if("all"===e.target.dataset.tab)return l(t);const o=document.querySelectorAll(`[data-tabBlock=${e.target.dataset.tab}]`);s(t),l(o)}}));const l=e=>{e.forEach((e=>{e.classList.remove("hidden")}))},s=e=>{e.forEach((e=>{e.classList.add("hidden")}))}})(),(()=>{const e=document.querySelectorAll(".slider-blog__slide"),t=document.querySelector(".slider-pagination"),l=document.querySelectorAll(".dot");let s,o=0;const r=(e,t,l)=>{e[t].classList.remove(l)},a=(e,t,l)=>{e[t].classList.add(l)},n=()=>{r(e,o,"slider-blog__slide--active"),r(l,o,"dot--active"),o++,o>=e.length&&(o=0),a(l,o,"dot--active"),a(e,o,"slider-blog__slide--active")},c=e=>{s=setInterval(n,e)};t.addEventListener("click",(t=>{t.target.classList.contains("dot")&&(r(e,o,"slider-blog__slide--active"),r(l,o,"dot--active"),l.forEach(((e,l)=>{t.target===e&&(o=l)})),a(l,o,"dot--active"),a(e,o,"slider-blog__slide--active"))})),t.addEventListener("mouseenter",(e=>{e.target.classList.contains("dot")&&clearInterval(s)}),!0),t.addEventListener("mouseleave",(e=>{e.target.classList.contains("dot")&&c(2e3)}),!0),c(2e3)})(),(()=>{const e=document.querySelectorAll(".gallery__item"),t=document.querySelector(".modal-lightbox");e.forEach((e=>{e.addEventListener("click",(e=>{var l;e.preventDefault(),l=e.target.closest("a").getAttribute("href"),t.classList.add("modal-lightbox--show"),t.innerHTML="",t.insertAdjacentHTML("beforeend",`<img class="modal-lightbox__image" src="${l}" alt="image">`)}))})),t.addEventListener("click",(e=>{e.target.closest(".modal-lightbox__image")||t.classList.remove("modal-lightbox--show")}))})(),(()=>{const t=document.querySelector(".form"),l=document.querySelectorAll(".form__input"),s=document.createElement("p");s.classList.add("status-block");const o=()=>{setTimeout((()=>{s.style="",s.textContent=""}),5e3)};t.addEventListener("input",(t=>{e(l)})),t.addEventListener("submit",(r=>{if(r.preventDefault(),e(l)){const e=new FormData(t),r={};e.forEach(((e,t)=>{r[t]=e})),t.append(s),s.textContent="Загрузка...",a=r,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((e=>e.json())).then((e=>{s.style.color="green",s.textContent="Успешно отправлено",o()})).catch((e=>{s.style.color="red",s.textContent="Ошибка!",o()})),l.forEach((e=>{e.value=""}))}var a})),((e,t="+7 (___) ___-__-__")=>{const l=document.querySelectorAll(e),s=e=>{const{keyCode:l,target:s}=e,o=t,r=o.replace(/\D/g,""),a=s.value.replace(/\D/g,"");let n=0,c=o.replace(/[_\d]/g,(e=>n<a.length?a.charAt(n++)||r.charAt(n):e));n=c.indexOf("_"),-1!==n&&(c=c.slice(0,n));let i=o.substr(0,s.value.length).replace(/_+/g,(({length:e})=>`\\d{1,${e}}`)).replace(/[+()]/g,"\\$&");i=new RegExp(`^${i}$`),(!i.test(s.value)||s.value.length<5||l>47&&l<58)&&(s.value=c),"blur"==e.type&&s.value.length<5&&(s.value="")};for(const e of l)e.addEventListener("input",s),e.addEventListener("focus",s),e.addEventListener("blur",s)})(".form-phone")})()})();